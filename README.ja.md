[🇬🇧 English](README.md) | [🇯🇵 日本語](README.ja.md)

# Unity一週間プロジェクト：「ひく」 -> Rhythm Gunman for WebBuild

## 概要
本リポジトリは、Unityで開発されたOSU!ライクなリズムゲームのソースコードである。自動譜面生成、動的なビジュアル、精密なタイミング判定を特徴とし、プレイヤーは音楽に同期してノートを処理することでハイスコアを目指す。

## 主な機能
- **コアゲームプレイ**: タイミングベースのノートヒット機構と、ヒット・ミス時の視覚的フィードバック。
- **譜面システム**: Pythonスクリプトによるカスタム譜面の自動生成とゲームへの統合に対応。
- **オートプレイモード**: デモやキャリブレーション目的で、ゲームが自動でプレイする様子を閲覧可能。
- **動的ビジュアル**: アプローチリング、ヒットサークル、通知テキストによるフィードバック。
- **選曲メニュー**: 存在する譜面に応じて自動でリストが拡張され、楽曲と難易度を選択可能。
- **統計記録**: スコア、精度、コンボ、ヒット・ミス数などのパフォーマンスを追跡。
- **セーブシステム**: 楽曲と難易度ごとのハイスコアと自己ベストを保存。
- **キャリブレーションモード**: 正確なタイミング調整のため、オーディオオフセットを調整可能。
- **太鼓ビジュアルアシスト**: 必要に応じて視認性を高めるため、判定ラインを一次元に集約するバー表示。

## プロジェクト構成
### 主要コンポーネント
- **ゲームプレイ**:  
  - `OSUBeatNote.cs`: 個々のノート、アニメーション、ヒット・ミス判定を処理。
  - `RhythmManagerOSUAimless.cs`: ゲーム全体のステート、ノートのスポーン、インタラクションを管理。
- **UI**:  
  - `SongRowController.cs`: 楽曲選択と難易度切り替えを管理。
  - `SongFinishedMenu.cs`: 楽曲終了後に統計とオプションを表示。
- **譜面生成**:  
  - `GenerateBeatmapWindow.cs`: Pythonスクリプトを用いて譜面を生成するエディタツール。
- **セーブシステム**:  
  - `SongRecord.cs`: 楽曲と難易度ごとのパフォーマンスデータを格納。

### 外部ツール
- **Python連携**: `generate_beatmap.py` スクリプトを使用し、オーディオファイルから譜面を生成。スクリプトはオーディオを処理し、UnityにインポートされるJSONファイルを出力する。

### アセット
- **ビジュアル**: 基本的なUI要素と階層化されたロジックで構成されるシンプルなビジュアル。
- **オーディオ**: カスタム楽曲の譜面自動生成に対応。

## 要件
- **Unityバージョン**: `6000.0.54f1` 以降
- **.NET Framework**: `4.7.1`
- **Python**: 譜面生成に必須。`Librosa`ライブラリのインストールが必要。

## インストール
1.  リポジトリをクローンする。
2.  Unity (`6000.0.54f1`以降)でプロジェクトを開く。
3.  Pythonがインストールされ、コマンドラインからアクセス可能であること、および`Librosa`がインストールされていることを確認する。
4.  ゲームを実行するか、`GenerateBeatmapWindow`ツールを使用してカスタム譜面を作成する。

## 使用方法
### ゲームプレイ
1.  ジュークボックスメニューから楽曲と難易度を選択する。
2.  音楽に合わせてノートをヒットし、スコアを獲得する。
3.  楽曲終了後、パフォーマンス統計を確認する。

### 譜面生成
1.  Unityエディタで`GenerateBeatmapWindow`ツール (`Tools > Beatmap > Auto-Generate`) を開く。
2.  オーディオファイルと難易度レベルを選択する。
3.  譜面を生成し、プロジェクトにインポートする。

### キャリブレーション
キャリブレーションモードでオーディオオフセットを調整し、タイミングを最適化する。UIコントロールでオフセット値を増減させることが可能。

## ライセンス
本プロジェクトはMITライセンスの下で公開されています。詳細は[LICENSE](LICENSE)ファイルを参照してください。