# Unity一週間プロジェクト: 「ひく」 -> Rhythm Game (Rhythm Revolver) for WebBuild  
[🇬🇧 English](README.md) | [🇯🇵 日本語](README.ja.md)  

https://unityroom.com/games/rhythm-revolver  

Beatmap generationは現在Windowsのみ対応, 他OSで動かす場合は`GenerateBeatmapWindow.cs`にてCLIコマンドの変更が必要.  

Unity起動時に大量のエラーが出るが, 無視してDOTweenとTMProをインストールすれば良い.  

セーブシステムは未検証, 理論上は動作する想定.  

コードおよびREADMEの約40%はAI生成. 時間があれば, あるいはUnityではなくGodotであれば採用しない設計も多い.  

本プロジェクトの目的は, インターン向け制作物の追加と, Godot以外にUnityも扱えることの証明.  

## 概要
Unityで開発されたOSU!ライクなリズムゲームのソースコード. 自動譜面生成, 動的ビジュアル, 精密なタイミング判定を特徴とし, プレイヤーは音楽に同期してノートや敵を処理し, 高スコアと精度を狙う.  

## 主な機能
- **コアゲームプレイ**: 音楽に同期したタイミングベースのノートヒット判定と, ヒット/ミス時の視覚的フィードバック  
- **譜面システム**: Pythonスクリプトによるカスタム譜面の自動生成とUnity統合  
- **オートプレイモード**: デモやキャリブレーション用に, 自動でプレイする様子を再生可能  
- **動的ビジュアル**: アプローチリング, ヒットサークル, 通知テキストなどの多層UIによるフィードバック  
- **選曲メニュー**: 譜面の有無に応じて自動展開されるUIで楽曲と難易度を選択可能  
- **統計記録**: スコア, 精度, コンボ, ヒット/ミス数の追跡  
- **セーブシステム**: 楽曲と難易度ごとのハイスコアと自己ベスト保存  
- **キャリブレーションモード**: 音声オフセット調整によるタイミング精度最適化  
- **太鼓ビジュアルアシスト**: 判定ラインを一次元化するバー表示による視認性強化  

## プロジェクト構成
### 主要コンポーネント
- **ゲームプレイ**:  
  - `OSUBeatNote.cs`: 個別ノートの挙動, アニメーション
  - `JudgementSystem.cs`: ヒット/ミス 判別 
  - `RhythmManagerOSUAimless.cs`: ゲーム状態管理, ノートスポーン, インタラクション制御  
- **UI**:  
  - `SongRowController.cs`: 楽曲選択と難易度切り替え管理  
  - `SongFinishedMenu.cs`: 楽曲終了後の統計表示とメニュー  
- **譜面生成**:  
  - `GenerateBeatmapWindow.cs`: Pythonスクリプトを用いた譜面生成エディタツール  
- **カスタムオーディオシステム**:  
  - `AudioManager.cs`: 個人Godotプロジェクトから移植されたシングルトン, クロスフェード, SFX/BGMプーリング, 再生制御  

### 譜面生成
1. Unityエディタで`GenerateBeatmapWindow`を開く (`Tools > Beatmap > Auto-Generate`)  
2. オーディオファイルと難易度を選択  
3. Generate実行後, ジュークボックスに譜面が追加される  

### 外部ツール
- **Python連携**: `generate_beatmap.py` がオーディオ解析を行い, JSON形式でUnityにインポート  

### アセット
- **ビジュアル**: シンプルなUI要素と階層化ロジック  
- **オーディオ**: カスタム楽曲の自動譜面生成対応  

## 要件
- **Unityバージョン**: 6000.0.54f1 以降  
- **.NET Framework**: 4.7.1  
- **Python**: Librosaライブラリ必須  

## インストール
1. リポジトリをクローン  
2. Unity (6000.0.54f1以降)でプロジェクトを開く  
3. PythonおよびLibrosaをインストールし, CLIから実行可能な状態にする  
4. ゲーム実行または`GenerateBeatmapWindow`で譜面生成  

## 使用方法
### ゲームプレイ
1. ジュークボックスから楽曲と難易度を選択  
2. 音楽に合わせてノートをヒットし, スコアを獲得  
3. 楽曲終了後に統計を確認  

### キャリブレーション
キャリブレーションモードでオーディオオフセットを調整し, 精度を最適化  

## ライセンス
MITライセンスに基づき公開. 詳細は[LICENSE](LICENSE)を参照  
